<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="edu.spring.homeshare.HouseMapper">

	<!-- 기본규칙 value : '_' 사용 , name : 카멜케이스 -->



	<!-- 기본 select문 -->
	<!-- 하우스번호, 숙소타입, 제목, 내용 -->
	<select id="select_by_title" resultType="HouseVO">
		select * from ${house}
		where ${title}= #{title}
	</select>

	<select id="select_all" resultType="HouseVO">
		select * from ${house}
	</select>

	<select id="select_by_houseno" resultType="houseVO"
		parameterType="int">
		select * from ${house} where ${houseNo} = #{houseNo}
	</select>

	<!-- memno 기준으로 모든 하우스 정보를 가져오는 쿼리 -->
	<select id="select_all_by_memno" resultType="houseVO"
		parameterType="int">
		select * from ${house} where ${memNo} = #{memNo}
	</select>

	<!-- 페이징 처리 -->
	<select id="paging" resultType="houseVO">
		select
		b.${houseNo}, b.${title},
		b.${info}
		from (
		select rownum rn, a.*
		from (
		select * from house order by
		${houseNo} desc
		) a
		) b
		where rn between #{start} and #{end}
	</select>

	<select id="total_count" resultType="Integer">
		select count(*) total_cnt from ${house}
	</select>


	<!-- insert문 -->
	<insert id="insert" parameterType="houseVO">
		insert into house values(
		#{HOUSENO},
		#{MEMNO},
		#{TYPE},
		#{MAXCAPACITY},
		#{BEDROOM},
		#{BATHROOM},
		#{LOCATION},
		#{UTILITIES},
		#{SPACES},
		#{INFO},
		#{RULES},
		#{CHECKININTERVAL},
		#{CHECKINTIME},
		#{CHECKOUTTIME},
		#{STAYNIGHT},
		#{STAYDAY},
		#{BOOKALBEDATEBEGIN},
		#{BOOKABLEDATEEND},
		#{PRICE},
		#{TITLE},
		#{RANKING},
		#{PHOTO},
		#{THUMNAILPHOTO}
		);
	</insert>





</mapper>
